!function(r){var s="mmenu";if(!r[s]){var e,t,n,o,i,l,a,d={$wndw:null,$html:null,$body:null,$page:null,$blck:null,$allMenus:null,$scrollTopNode:null},c={},p={},u={},h=0;r[s]=function(e,t,n){return d.$allMenus=d.$allMenus.add(e),this.$menu=e,this.opts=t,this.conf=n,this.serialnr=h++,this._init(),this},r[s].prototype={open:function(){return this._openSetup(),this._openFinish(),"open"},_openSetup:function(){var e=function(){d.$scrollTopNode||(0!=d.$html.scrollTop()?d.$scrollTopNode=d.$html:0!=d.$body.scrollTop()&&(d.$scrollTopNode=d.$body));return d.$scrollTopNode?d.$scrollTopNode.scrollTop():0}();this.$menu.addClass(c.current),d.$allMenus.not(this.$menu).trigger(p.close),d.$page.data(u.style,d.$page.attr("style")||"").data(u.scrollTop,e).data(u.offetLeft,d.$page.offset().left);var o=0;d.$wndw.off(p.resize).on(p.resize,function(e,t){if(t||d.$html.hasClass(c.opened)){var n=d.$wndw.width();n!=o&&(o=n,d.$page.width(n-d.$page.data(u.offetLeft)))}}).trigger(p.resize,[!0]),this.conf.preventTabbing&&d.$wndw.off(p.keydown).on(p.keydown,function(e){if(9==e.keyCode)return e.preventDefault(),!1}),this.opts.modal&&d.$html.addClass(c.modal),this.opts.moveBackground&&d.$html.addClass(c.background),"left"!=this.opts.position&&d.$html.addClass(c.mm(this.opts.position)),"back"!=this.opts.zposition&&d.$html.addClass(c.mm(this.opts.zposition)),this.opts.classes&&d.$html.addClass(this.opts.classes),d.$html.addClass(c.opened),this.$menu.addClass(c.opened),d.$page.scrollTop(e),this.$menu.scrollTop(0)},_openFinish:function(){var e=this;g(d.$page,function(){e.$menu.trigger(p.opened)},this.conf.transitionDuration),d.$html.addClass(c.opening),this.$menu.trigger(p.opening),window.scrollTo(0,1)},close:function(){var e=this;return g(d.$page,function(){e.$menu.removeClass(c.current).removeClass(c.opened),d.$html.removeClass(c.opened).removeClass(c.modal).removeClass(c.background).removeClass(c.mm(e.opts.position)).removeClass(c.mm(e.opts.zposition)),e.opts.classes&&d.$html.removeClass(e.opts.classes),d.$wndw.off(p.resize).off(p.keydown),d.$page.attr("style",d.$page.data(u.style)),d.$scrollTopNode&&d.$scrollTopNode.scrollTop(d.$page.data(u.scrollTop)),e.$menu.trigger(p.closed)},this.conf.transitionDuration),d.$html.removeClass(c.opening),this.$menu.trigger(p.closing),"close"},_init:function(){if(this.opts=m(this.opts,this.conf,this.$menu),this.direction=this.opts.slidingSubmenus?"horizontal":"vertical",this._initPage(d.$page),this._initMenu(),this._initBlocker(),this._initPanles(),this._initLinks(),this._initOpenClose(),this._bindCustomEvents(),r[s].addons)for(var e=0;e<r[s].addons.length;e++)"function"==typeof this["_addon_"+r[s].addons[e]]&&this["_addon_"+r[s].addons[e]]()},_bindCustomEvents:function(){var n=this;this.$menu.off(p.open+" "+p.close+" "+p.setPage+" "+p.update).on(p.open+" "+p.close+" "+p.setPage+" "+p.update,function(e){e.stopPropagation()}),this.$menu.on(p.open,function(e){return r(this).hasClass(c.current)?(e.stopImmediatePropagation(),!1):n.open()}).on(p.close,function(e){return r(this).hasClass(c.current)?n.close():(e.stopImmediatePropagation(),!1)}).on(p.setPage,function(e,t){n._initPage(t),n._initOpenClose()});var e=this.$menu.find(this.opts.isMenu&&"horizontal"!=this.direction?"ul, ol":"."+c.panel);e.off(p.toggle+" "+p.open+" "+p.close).on(p.toggle+" "+p.open+" "+p.close,function(e){e.stopPropagation()}),"horizontal"==this.direction?e.on(p.open,function(e){return function(e,t){if(e.hasClass(c.current))return!1;var n=r("."+c.panel,t),o=n.filter("."+c.current);n.removeClass(c.highest).removeClass(c.current).not(e).not(o).addClass(c.hidden),e.hasClass(c.opened)?o.addClass(c.highest).removeClass(c.opened).removeClass(c.subopened):(e.addClass(c.highest),o.addClass(c.subopened));return e.removeClass(c.hidden).removeClass(c.subopened).addClass(c.current).addClass(c.opened),"open"}(r(this),n.$menu)}):e.on(p.toggle,function(e){var t=r(this);return t.triggerHandler(t.parent().hasClass(c.opened)?p.close:p.open)}).on(p.open,function(e){return r(this).parent().addClass(c.opened),"open"}).on(p.close,function(e){return r(this).parent().removeClass(c.opened),"close"})},_initBlocker:function(){var t=this;d.$blck||(d.$blck=r('<div id="'+c.blocker+'" />').css("opacity",0).appendTo(d.$body)),d.$blck.off(p.touchstart).on(p.touchstart,function(e){e.preventDefault(),e.stopPropagation(),d.$blck.trigger(p.mousedown)}).on(p.mousedown,function(e){e.preventDefault(),d.$html.hasClass(c.modal)||t.$menu.trigger(p.close)})},_initPage:function(e){e||1<(e=r(this.conf.pageSelector,d.$body)).length&&(r[s].debug("Multiple nodes found for the page-node, all nodes are wrapped in one <"+this.conf.pageNodetype+">."),e=e.wrapAll("<"+this.conf.pageNodetype+" />").parent()),e.addClass(c.page),d.$page=e},_initMenu:function(){this.conf.clone&&(this.$menu=this.$menu.clone(!0),this.$menu.add(this.$menu.find("*")).filter("[id]").each(function(){r(this).attr("id",c.mm(r(this).attr("id")))})),this.$menu.contents().each(function(){3==r(this)[0].nodeType&&r(this).remove()}),this.$menu.prependTo("body").addClass(c.menu),this.$menu.addClass(c.mm(this.direction)),this.opts.classes&&this.$menu.addClass(this.opts.classes),this.opts.isMenu&&this.$menu.addClass(c.ismenu),"left"!=this.opts.position&&this.$menu.addClass(c.mm(this.opts.position)),"back"!=this.opts.zposition&&this.$menu.addClass(c.mm(this.opts.zposition))},_initPanles:function(){var a=this;this.__refactorClass(r("."+this.conf.listClass,this.$menu),"list"),this.opts.isMenu&&r("ul, ol",this.$menu).not(".mm-nolist").addClass(c.list);var n=r("."+c.list+" > li",this.$menu);this.__refactorClass(n.filter("."+this.conf.selectedClass),"selected"),this.__refactorClass(n.filter("."+this.conf.labelClass),"label"),this.__refactorClass(n.filter("."+this.conf.spacerClass),"spacer"),n.off(p.setSelected).on(p.setSelected,function(e,t){e.stopPropagation(),n.removeClass(c.selected),"boolean"!=typeof t&&(t=!0),t&&r(this).addClass(c.selected)}),this.__refactorClass(r("."+this.conf.panelClass,this.$menu),"panel"),this.$menu.children().filter(this.conf.panelNodetype).add(this.$menu.find("."+c.list).children().children().filter(this.conf.panelNodetype)).addClass(c.panel);var e=r("."+c.panel,this.$menu);e.each(function(e){var t=r(this),n=t.attr("id")||c.mm("m"+a.serialnr+"-p"+e);t.attr("id",n)}),e.find("."+c.panel).each(function(e){var t=r(this),n=t.is("ul, ol")?t:t.find("ul ,ol").first(),o=t.parent(),s=o.find("> a, > span"),i=o.closest("."+c.panel);if(t.data(u.parent,o),o.parent().is("."+c.list)){var l=r('<a class="'+c.subopen+'" href="#'+t.attr("id")+'" />').insertBefore(s);s.is("a")||l.addClass(c.fullsubopen),"horizontal"==a.direction&&n.prepend('<li class="'+c.subtitle+'"><a class="'+c.subclose+'" href="#'+i.attr("id")+'">'+s.text()+"</a></li>")}});var o="horizontal"==this.direction?p.open:p.toggle;if(e.each(function(e){var t=r(this),n=t.attr("id");r('a[href="#'+n+'"]',a.$menu).off(p.click).on(p.click,function(e){e.preventDefault(),t.trigger(o)})}),"horizontal"==this.direction){var t=r("."+c.list+" > li."+c.selected,this.$menu);t.add(t.parents("li")).parents("li").removeClass(c.selected).end().each(function(){var e=r(this),t=e.find("> ."+c.panel);t.length&&(e.parents("."+c.panel).addClass(c.subopened),t.addClass(c.opened))}).closest("."+c.panel).addClass(c.opened).parents("."+c.panel).addClass(c.subopened)}else r("li."+c.selected,this.$menu).addClass(c.opened).parents("."+c.selected).removeClass(c.selected);var s=e.filter("."+c.opened);s.length||(s=e.first()),s.addClass(c.opened).last().addClass(c.current),"horizontal"==this.direction&&e.find("."+c.panel).appendTo(this.$menu)},_initLinks:function(){var s=this;r("."+c.list+" > li > a",this.$menu).not("."+c.subopen).not("."+c.subclose).not('[rel="external"]').not('[target="_blank"]').off(p.click).on(p.click,function(e){var t=r(this),n=t.attr("href");s.__valueOrFn(s.opts.onClick.setSelected,t)&&t.parent().trigger(p.setSelected);var o=s.__valueOrFn(s.opts.onClick.preventDefault,t,"#"==n.slice(0,1));o&&e.preventDefault(),s.__valueOrFn(s.opts.onClick.blockUI,t,!o)&&d.$html.addClass(c.blocking),s.__valueOrFn(s.opts.onClick.close,t,o)&&s.$menu.triggerHandler(p.close)})},_initOpenClose:function(){var e,t=this;(e=this.$menu.attr("id"))&&e.length&&(this.conf.clone&&(e=c.umm(e)),r('a[href="#'+e+'"]').off(p.click).on(p.click,function(e){e.preventDefault(),t.$menu.trigger(p.open)})),(e=d.$page.attr("id"))&&e.length&&r('a[href="#'+e+'"]').off(p.click).on(p.click,function(e){e.preventDefault(),t.$menu.trigger(p.close)})},__valueOrFn:function(e,t,n){return"function"==typeof e?e.call(t[0]):void 0===e&&void 0!==n?n:e},__refactorClass:function(e,t){e.removeClass(this.conf[t+"Class"]).addClass(c[t])}},r.fn[s]=function(t,n){return d.$wndw||(d.$wndw=r(window),d.$html=r("html"),d.$body=r("body"),d.$allMenus=r(),r.each([c,u,p],function(e,n){n.add=function(e){for(var t in e=e.split(" "))n[e[t]]=n.mm(e[t])}}),c.mm=function(e){return"mm-"+e},c.add("menu ismenu panel list subtitle selected label spacer current highest hidden page blocker modal background opened opening subopened subopen fullsubopen subclose nooverflowscrolling"),c.umm=function(e){return"mm-"==e.slice(0,3)&&(e=e.slice(3)),e},u.mm=function(e){return"mm-"+e},u.add("parent style scrollTop offetLeft"),p.mm=function(e){return e+".mm"},p.add("toggle open opening opened close closing closed update setPage setSelected transitionend touchstart touchend mousedown mouseup click keydown keyup resize"),r[s]._c=c,r[s]._d=u,r[s]._e=p,r[s].glbl=d,r[s].useOverflowScrollingFallback(f)),t=m(t,n),n=function(e){"object"!=typeof e&&(e={});void 0!==e.panelNodeType&&(r[s].deprecated("panelNodeType configuration option","panelNodetype"),e.panelNodetype=e.panelNodeType);"string"!=typeof(e=r.extend(!0,{},r[s].configuration,e)).pageSelector&&(e.pageSelector="> "+e.pageNodetype);return e}(n),this.each(function(){var e=r(this);e.data(s)||e.data(s,new r[s](e,t,n))})},r[s].version="4.1.7",r[s].defaults={position:"left",zposition:"back",moveBackground:!0,slidingSubmenus:!0,modal:!1,classes:"",onClick:{setSelected:!0}},r[s].configuration={preventTabbing:!0,panelClass:"Panel",listClass:"List",selectedClass:"Selected",labelClass:"Label",spacerClass:"Spacer",pageNodetype:"div",panelNodetype:"ul, ol, div",transitionDuration:400},e=window.document,t=window.navigator.userAgent,n=document.createElement("div").style,o="ontouchstart"in e,i="WebkitOverflowScrolling"in e.documentElement.style,l="webkitTransition"in n?"webkitTransition":"transition"in n,a=0<=t.indexOf("Android")&&parseFloat(t.slice(t.indexOf("Android")+8))<2.4,r[s].support={touch:o,transition:l,oldAndroidBrowser:a,overflowscrolling:!o||!!i||!a},r[s].useOverflowScrollingFallback=function(e){return d.$html?("boolean"==typeof e&&d.$html[e?"addClass":"removeClass"](c.nooverflowscrolling),d.$html.hasClass(c.nooverflowscrolling)):f=e},r[s].debug=function(e){},r[s].deprecated=function(e,t){"undefined"!=typeof console&&void 0!==console.warn&&console.warn("MMENU: "+e+" is deprecated, use "+t+" instead.")};var f=!r[s].support.overflowscrolling}function m(e,t,n){if("object"!=typeof e&&(e={}),n){if("boolean"!=typeof e.isMenu){var o=n.children();e.isMenu=1==o.length&&o.is(t.panelNodetype)}return e}if("object"!=typeof e.onClick&&(e.onClick={}),void 0!==e.onClick.setLocationHref&&(r[s].deprecated("onClick.setLocationHref option","!onClick.preventDefault"),"boolean"==typeof e.onClick.setLocationHref&&(e.onClick.preventDefault=!e.onClick.setLocationHref)),e=r.extend(!0,{},r[s].defaults,e),r[s].useOverflowScrollingFallback()){switch(e.position){case"top":case"right":case"bottom":r[s].debug('position: "'+e.position+'" not supported when using the overflowScrolling-fallback.'),e.position="left"}switch(e.zposition){case"front":case"next":r[s].debug('z-position: "'+e.zposition+'" not supported when using the overflowScrolling-fallback.'),e.zposition="back"}}return e}function g(e,t,n){var o=r[s].support.transition;"webkitTransition"==o?e.one("webkitTransitionEnd",t):o?e.one(p.transitionend,t):setTimeout(t,n)}}(jQuery);