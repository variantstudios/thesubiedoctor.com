!function(e){function t(t,n,o){if("object"!=typeof t&&(t={}),o){if("boolean"!=typeof t.isMenu){var s=o.children();t.isMenu=1==s.length&&s.is(n.panelNodetype)}return t}if("object"!=typeof t.onClick&&(t.onClick={}),void 0!==t.onClick.setLocationHref&&(e[a].deprecated("onClick.setLocationHref option","!onClick.preventDefault"),"boolean"==typeof t.onClick.setLocationHref&&(t.onClick.preventDefault=!t.onClick.setLocationHref)),t=e.extend(!0,{},e[a].defaults,t),e[a].useOverflowScrollingFallback()){switch(t.position){case"top":case"right":case"bottom":e[a].debug('position: "'+t.position+'" not supported when using the overflowScrolling-fallback.'),t.position="left"}switch(t.zposition){case"front":case"next":e[a].debug('z-position: "'+t.zposition+'" not supported when using the overflowScrolling-fallback.'),t.zposition="back"}}return t}function n(t){return"object"!=typeof t&&(t={}),void 0!==t.panelNodeType&&(e[a].deprecated("panelNodeType configuration option","panelNodetype"),t.panelNodetype=t.panelNodeType),"string"!=typeof(t=e.extend(!0,{},e[a].configuration,t)).pageSelector&&(t.pageSelector="> "+t.pageNodetype),t}function o(){r.$wndw=e(window),r.$html=e("html"),r.$body=e("body"),r.$allMenus=e(),e.each([d,p,c],function(e,t){t.add=function(e){e=e.split(" ");for(var n in e)t[e[n]]=t.mm(e[n])}}),d.mm=function(e){return"mm-"+e},d.add("menu ismenu panel list subtitle selected label spacer current highest hidden page blocker modal background opened opening subopened subopen fullsubopen subclose nooverflowscrolling"),d.umm=function(e){return"mm-"==e.slice(0,3)&&(e=e.slice(3)),e},p.mm=function(e){return"mm-"+e},p.add("parent style scrollTop offetLeft"),c.mm=function(e){return e+".mm"},c.add("toggle open opening opened close closing closed update setPage setSelected transitionend touchstart touchend mousedown mouseup click keydown keyup resize"),e[a]._c=d,e[a]._d=p,e[a]._e=c,e[a].glbl=r,e[a].useOverflowScrollingFallback(f)}function s(t,n){if(t.hasClass(d.current))return!1;var o=e("."+d.panel,n),s=o.filter("."+d.current);return o.removeClass(d.highest).removeClass(d.current).not(t).not(s).addClass(d.hidden),t.hasClass(d.opened)?s.addClass(d.highest).removeClass(d.opened).removeClass(d.subopened):(t.addClass(d.highest),s.addClass(d.subopened)),t.removeClass(d.hidden).removeClass(d.subopened).addClass(d.current).addClass(d.opened),"open"}function i(){return r.$scrollTopNode||(0!=r.$html.scrollTop()?r.$scrollTopNode=r.$html:0!=r.$body.scrollTop()&&(r.$scrollTopNode=r.$body)),r.$scrollTopNode?r.$scrollTopNode.scrollTop():0}function l(t,n,o){var s=e[a].support.transition;"webkitTransition"==s?t.one("webkitTransitionEnd",n):s?t.one(c.transitionend,n):setTimeout(n,o)}var a="mmenu";if(!e[a]){var r={$wndw:null,$html:null,$body:null,$page:null,$blck:null,$allMenus:null,$scrollTopNode:null},d={},c={},p={},u=0;e[a]=function(e,t,n){return r.$allMenus=r.$allMenus.add(e),this.$menu=e,this.opts=t,this.conf=n,this.serialnr=u++,this._init(),this},e[a].prototype={open:function(){return this._openSetup(),this._openFinish(),"open"},_openSetup:function(){var e=i();this.$menu.addClass(d.current),r.$allMenus.not(this.$menu).trigger(c.close),r.$page.data(p.style,r.$page.attr("style")||"").data(p.scrollTop,e).data(p.offetLeft,r.$page.offset().left);var t=0;r.$wndw.off(c.resize).on(c.resize,function(e,n){if(n||r.$html.hasClass(d.opened)){var o=r.$wndw.width();o!=t&&(t=o,r.$page.width(o-r.$page.data(p.offetLeft)))}}).trigger(c.resize,[!0]),this.conf.preventTabbing&&r.$wndw.off(c.keydown).on(c.keydown,function(e){if(9==e.keyCode)return e.preventDefault(),!1}),this.opts.modal&&r.$html.addClass(d.modal),this.opts.moveBackground&&r.$html.addClass(d.background),"left"!=this.opts.position&&r.$html.addClass(d.mm(this.opts.position)),"back"!=this.opts.zposition&&r.$html.addClass(d.mm(this.opts.zposition)),this.opts.classes&&r.$html.addClass(this.opts.classes),r.$html.addClass(d.opened),this.$menu.addClass(d.opened),r.$page.scrollTop(e),this.$menu.scrollTop(0)},_openFinish:function(){var e=this;l(r.$page,function(){e.$menu.trigger(c.opened)},this.conf.transitionDuration),r.$html.addClass(d.opening),this.$menu.trigger(c.opening),window.scrollTo(0,1)},close:function(){var e=this;return l(r.$page,function(){e.$menu.removeClass(d.current).removeClass(d.opened),r.$html.removeClass(d.opened).removeClass(d.modal).removeClass(d.background).removeClass(d.mm(e.opts.position)).removeClass(d.mm(e.opts.zposition)),e.opts.classes&&r.$html.removeClass(e.opts.classes),r.$wndw.off(c.resize).off(c.keydown),r.$page.attr("style",r.$page.data(p.style)),r.$scrollTopNode&&r.$scrollTopNode.scrollTop(r.$page.data(p.scrollTop)),e.$menu.trigger(c.closed)},this.conf.transitionDuration),r.$html.removeClass(d.opening),this.$menu.trigger(c.closing),"close"},_init:function(){if(this.opts=t(this.opts,this.conf,this.$menu),this.direction=this.opts.slidingSubmenus?"horizontal":"vertical",this._initPage(r.$page),this._initMenu(),this._initBlocker(),this._initPanles(),this._initLinks(),this._initOpenClose(),this._bindCustomEvents(),e[a].addons)for(var n=0;n<e[a].addons.length;n++)"function"==typeof this["_addon_"+e[a].addons[n]]&&this["_addon_"+e[a].addons[n]]()},_bindCustomEvents:function(){var t=this;this.$menu.off(c.open+" "+c.close+" "+c.setPage+" "+c.update).on(c.open+" "+c.close+" "+c.setPage+" "+c.update,function(e){e.stopPropagation()}),this.$menu.on(c.open,function(n){return e(this).hasClass(d.current)?(n.stopImmediatePropagation(),!1):t.open()}).on(c.close,function(n){return e(this).hasClass(d.current)?t.close():(n.stopImmediatePropagation(),!1)}).on(c.setPage,function(e,n){t._initPage(n),t._initOpenClose()});var n=this.$menu.find(this.opts.isMenu&&"horizontal"!=this.direction?"ul, ol":"."+d.panel);n.off(c.toggle+" "+c.open+" "+c.close).on(c.toggle+" "+c.open+" "+c.close,function(e){e.stopPropagation()}),"horizontal"==this.direction?n.on(c.open,function(n){return s(e(this),t.$menu)}):n.on(c.toggle,function(t){var n=e(this);return n.triggerHandler(n.parent().hasClass(d.opened)?c.close:c.open)}).on(c.open,function(t){return e(this).parent().addClass(d.opened),"open"}).on(c.close,function(t){return e(this).parent().removeClass(d.opened),"close"})},_initBlocker:function(){var t=this;r.$blck||(r.$blck=e('<div id="'+d.blocker+'" />').css("opacity",0).appendTo(r.$body)),r.$blck.off(c.touchstart).on(c.touchstart,function(e){e.preventDefault(),e.stopPropagation(),r.$blck.trigger(c.mousedown)}).on(c.mousedown,function(e){e.preventDefault(),r.$html.hasClass(d.modal)||t.$menu.trigger(c.close)})},_initPage:function(t){t||(t=e(this.conf.pageSelector,r.$body)).length>1&&(e[a].debug("Multiple nodes found for the page-node, all nodes are wrapped in one <"+this.conf.pageNodetype+">."),t=t.wrapAll("<"+this.conf.pageNodetype+" />").parent()),t.addClass(d.page),r.$page=t},_initMenu:function(){this.conf.clone&&(this.$menu=this.$menu.clone(!0),this.$menu.add(this.$menu.find("*")).filter("[id]").each(function(){e(this).attr("id",d.mm(e(this).attr("id")))})),this.$menu.contents().each(function(){3==e(this)[0].nodeType&&e(this).remove()}),this.$menu.prependTo("body").addClass(d.menu),this.$menu.addClass(d.mm(this.direction)),this.opts.classes&&this.$menu.addClass(this.opts.classes),this.opts.isMenu&&this.$menu.addClass(d.ismenu),"left"!=this.opts.position&&this.$menu.addClass(d.mm(this.opts.position)),"back"!=this.opts.zposition&&this.$menu.addClass(d.mm(this.opts.zposition))},_initPanles:function(){var t=this;this.__refactorClass(e("."+this.conf.listClass,this.$menu),"list"),this.opts.isMenu&&e("ul, ol",this.$menu).not(".mm-nolist").addClass(d.list);var n=e("."+d.list+" > li",this.$menu);this.__refactorClass(n.filter("."+this.conf.selectedClass),"selected"),this.__refactorClass(n.filter("."+this.conf.labelClass),"label"),this.__refactorClass(n.filter("."+this.conf.spacerClass),"spacer"),n.off(c.setSelected).on(c.setSelected,function(t,o){t.stopPropagation(),n.removeClass(d.selected),"boolean"!=typeof o&&(o=!0),o&&e(this).addClass(d.selected)}),this.__refactorClass(e("."+this.conf.panelClass,this.$menu),"panel"),this.$menu.children().filter(this.conf.panelNodetype).add(this.$menu.find("."+d.list).children().children().filter(this.conf.panelNodetype)).addClass(d.panel);var o=e("."+d.panel,this.$menu);o.each(function(n){var o=e(this),s=o.attr("id")||d.mm("m"+t.serialnr+"-p"+n);o.attr("id",s)}),o.find("."+d.panel).each(function(n){var o=e(this),s=o.is("ul, ol")?o:o.find("ul ,ol").first(),i=o.parent(),l=i.find("> a, > span"),a=i.closest("."+d.panel);if(o.data(p.parent,i),i.parent().is("."+d.list)){var r=e('<a class="'+d.subopen+'" href="#'+o.attr("id")+'" />').insertBefore(l);l.is("a")||r.addClass(d.fullsubopen),"horizontal"==t.direction&&s.prepend('<li class="'+d.subtitle+'"><a class="'+d.subclose+'" href="#'+a.attr("id")+'">'+l.text()+"</a></li>")}});var s="horizontal"==this.direction?c.open:c.toggle;if(o.each(function(n){var o=e(this),i=o.attr("id");e('a[href="#'+i+'"]',t.$menu).off(c.click).on(c.click,function(e){e.preventDefault(),o.trigger(s)})}),"horizontal"==this.direction){var i=e("."+d.list+" > li."+d.selected,this.$menu);i.add(i.parents("li")).parents("li").removeClass(d.selected).end().each(function(){var t=e(this),n=t.find("> ."+d.panel);n.length&&(t.parents("."+d.panel).addClass(d.subopened),n.addClass(d.opened))}).closest("."+d.panel).addClass(d.opened).parents("."+d.panel).addClass(d.subopened)}else e("li."+d.selected,this.$menu).addClass(d.opened).parents("."+d.selected).removeClass(d.selected);var l=o.filter("."+d.opened);l.length||(l=o.first()),l.addClass(d.opened).last().addClass(d.current),"horizontal"==this.direction&&o.find("."+d.panel).appendTo(this.$menu)},_initLinks:function(){var t=this;e("."+d.list+" > li > a",this.$menu).not("."+d.subopen).not("."+d.subclose).not('[rel="external"]').not('[target="_blank"]').off(c.click).on(c.click,function(n){var o=e(this),s=o.attr("href");t.__valueOrFn(t.opts.onClick.setSelected,o)&&o.parent().trigger(c.setSelected);var i=t.__valueOrFn(t.opts.onClick.preventDefault,o,"#"==s.slice(0,1));i&&n.preventDefault(),t.__valueOrFn(t.opts.onClick.blockUI,o,!i)&&r.$html.addClass(d.blocking),t.__valueOrFn(t.opts.onClick.close,o,i)&&t.$menu.triggerHandler(c.close)})},_initOpenClose:function(){var t=this,n=this.$menu.attr("id");n&&n.length&&(this.conf.clone&&(n=d.umm(n)),e('a[href="#'+n+'"]').off(c.click).on(c.click,function(e){e.preventDefault(),t.$menu.trigger(c.open)})),(n=r.$page.attr("id"))&&n.length&&e('a[href="#'+n+'"]').off(c.click).on(c.click,function(e){e.preventDefault(),t.$menu.trigger(c.close)})},__valueOrFn:function(e,t,n){return"function"==typeof e?e.call(t[0]):void 0===e&&void 0!==n?n:e},__refactorClass:function(e,t){e.removeClass(this.conf[t+"Class"]).addClass(d[t])}},e.fn[a]=function(s,i){return r.$wndw||o(),s=t(s,i),i=n(i),this.each(function(){var t=e(this);t.data(a)||t.data(a,new e[a](t,s,i))})},e[a].version="4.1.7",e[a].defaults={position:"left",zposition:"back",moveBackground:!0,slidingSubmenus:!0,modal:!1,classes:"",onClick:{setSelected:!0}},e[a].configuration={preventTabbing:!0,panelClass:"Panel",listClass:"List",selectedClass:"Selected",labelClass:"Label",spacerClass:"Spacer",pageNodetype:"div",panelNodetype:"ul, ol, div",transitionDuration:400},function(){var t=window.document,n=window.navigator.userAgent,o=document.createElement("div").style,s="ontouchstart"in t,i="WebkitOverflowScrolling"in t.documentElement.style,l="webkitTransition"in o?"webkitTransition":"transition"in o,r=n.indexOf("Android")>=0&&2.4>parseFloat(n.slice(n.indexOf("Android")+8));e[a].support={touch:s,transition:l,oldAndroidBrowser:r,overflowscrolling:!s||(!!i||!r)}}(),e[a].useOverflowScrollingFallback=function(e){return r.$html?("boolean"==typeof e&&r.$html[e?"addClass":"removeClass"](d.nooverflowscrolling),r.$html.hasClass(d.nooverflowscrolling)):(f=e,e)},e[a].debug=function(e){},e[a].deprecated=function(e,t){"undefined"!=typeof console&&void 0!==console.warn&&console.warn("MMENU: "+e+" is deprecated, use "+t+" instead.")};var f=!e[a].support.overflowscrolling}}(jQuery);